
# A. éœ€æ±‚è½ç›˜ä¸ä¿¡æ¯æ¶æ„ï¼ˆiOS / SwiftUIï¼‰

## å·²ç¡®è®¤å†³ç­–ï¼ˆç®€è¡¨ï¼‰

* **å¹³å°**ï¼šiOSï¼ˆSwiftUIï¼‰
* **ç™»å½•**ï¼šSign in with Apple + WeChatï¼ˆç™»å½•é¡µæä¾›åŒå…¥å£ï¼‰
* **ä¸»å¯¼èˆª**ï¼š**æ‹ç…§ä¸ºä¸» + è¾…åŠ©æŠ½å±‰**ï¼ˆä¸»å±ç›¸æœºï¼›å³ä¾§æ»‘å‡ºæŠ½å±‰å«ï¼šåœ°å›¾ã€å†å²ã€è®¾ç½®ï¼‰
* **å®šä½**ï¼šé»˜è®¤ç²¾ç¡®ï¼Œå¯åˆ‡æ¢æ¨¡ç³Š
* **æ’­æ”¾**ï¼šæ”¯æŒ**æµå¼ TTS**ã€å€é€Ÿã€è·³å¥ã€å›å¬ 15s
* **è¯­è¨€/å£°éŸ³**ï¼šé»˜è®¤è·Ÿéšç³»ç»Ÿï¼›æ”¯æŒä¸­/è‹±/æ—¥åˆ‡æ¢ä¸åå¥½è®°å¿†
* **æ–‡æœ¬ç¼–è¾‘**ï¼š**ä¸æ”¯æŒ**
* **ç¼“å­˜**ï¼šå…è®¸ç¦»çº¿ï¼›ä¸Šé™ **500MB**
* **å›é€€**ï¼šç”Ÿæˆå¤±è´¥æ—¶å±•ç¤ºæ–‡å­—è‰ç¨¿å¹¶æç¤ºç¨åè¡¥éŸ³é¢‘
* **åé¦ˆ**ï¼šæ’­æ”¾é¡µæ”¯æŒã€Œæœ‰ç”¨/æ— ç”¨ + é‡æ–°ç”Ÿæˆã€
* **åå°**ï¼šä¸Šä¼ /ç”Ÿæˆåœ¨åå°ç»§ç»­ï¼Œå®Œæˆ**æœ¬åœ°é€šçŸ¥**
* **åœ°å›¾**ï¼šå±•ç¤ºé™„è¿‘çƒ­é—¨å¡ç‰‡ï¼ˆè¯„åˆ†ã€æ’­æ”¾æ¬¡æ•°ã€è·ç¦»ï¼‰
* **æ¥æºæ ‡è¯†**ï¼š**ä¸æ˜¾ç¤º**
* **éšç§**ï¼šå…è®¸ç”¨äºæ”¹è¿›æœåŠ¡ï¼ˆé»˜è®¤å¼€ï¼‰
* **åŸ‹ç‚¹**ï¼šå…¨é“¾è·¯äº‹ä»¶ + å´©æºƒæ—¥å¿—
* **æ€§èƒ½ç›®æ ‡**ï¼šå‘½ä¸­ < 3s é¦–å¸§ï¼›æ–°ç”Ÿæˆ < 8s é¦–å¸§

## ä¿¡æ¯æ¶æ„ï¼ˆIAï¼‰

* **ä¸»å±ï¼ˆç›¸æœºï¼‰**

  * å…¨å±ç›¸æœºé¢„è§ˆ + å¤§å¿«é—¨
  * é¡¶éƒ¨å®šä½æ¡ï¼ˆå›½å®¶/åŸå¸‚/POIï¼Œå³ä¾§â€œç²¾å‡†/æ¨¡ç³Šâ€åˆ‡æ¢ï¼‰
  * å¿«é—¨å·¦ä¾§ gallary thumbnail button
  * å¿«é—¨å³ä¾§ a chat bubble button (ğŸ’¬) at bottom-right which opens a chat overlay
  * **å³ç¼˜æ»‘å‡ºæŠ½å±‰**ï¼šåœ°å›¾ã€å†å²ã€è®¾ç½®ï¼ˆäº¦å¯é•¿æŒ‰å±å¹•å³ç¼˜å”¤å‡ºï¼‰
* **åœ°å›¾**ï¼ˆæŠ½å±‰æˆ–ç‹¬ç«‹é¡µå‘ˆç°ï¼Œä¿ç•™â€œè¿”å›ç›¸æœºâ€æµ®é’®ï¼‰
* **å†å²/ç¦»çº¿**ï¼ˆåˆ—è¡¨ + æœç´¢/ç­›é€‰ + ç®¡ç†ç¼“å­˜ï¼‰
* **æ’­æ”¾ç»“æœ**ï¼ˆå¡ç‰‡æ’­æ”¾å™¨ + æµå¼è¿›åº¦ + åé¦ˆï¼‰
* **è®¾ç½®**ï¼ˆè¯­è¨€/å£°éŸ³ã€ç¼“å­˜ã€ç½‘ç»œç­–ç•¥ã€éšç§å¼€å…³ã€å…³äºï¼‰
* **ç™»å½•**ï¼ˆé¦–å¯æˆ–åœ¨è®¾ç½®ä¸­è¿›å…¥ï¼šApple/WeChatï¼‰

---

# B. äº¤äº’æ–¹æ¡ˆä¸æŠ€æœ¯è½åœ°

## å…³é”®ç”¨æˆ·æµï¼ˆçŠ¶æ€æœºï¼‰

1. **Capture æµ**
   `idle â†’ locating â†’ preview â†’ capture â†’ upload â†’ matching â†’ generating â†’ tts â†’ ready`

* é¡¶éƒ¨**åˆ†æ®µè¿›åº¦æ¡**å¤ç”¨ä¸€æ¡è¿›åº¦ï¼šä¸Šä¼  â–¸ æ£€ç´¢ â–¸ ç”Ÿæˆ â–¸ è¯­éŸ³
* ä»»ä¸€ç¯èŠ‚å¤±è´¥ â†’ toast + å›é€€ç­–ç•¥ï¼ˆå¯å±•ç¤ºæ–‡å­—è‰ç¨¿ï¼‰

3. **æ’­æ”¾æµï¼ˆæµå¼ï¼‰**
   å‘½ä¸­ï¼šæ”¶åˆ° `audio_url` æˆ–éŸ³é¢‘åˆ†ç‰‡å³**å…ˆå£°åå›¾**ï¼ˆå…ˆæ’­ã€åè¡¥å°é¢ï¼‰
   æ–°ç”Ÿæˆï¼šå…ˆå±•ç¤º**åŠ è½½æ³¢å½¢**ä¸ç§’è¡¨ï¼Œé¦–å¸§å¯æ’­å³å¯åŠ¨

4. **åå°ä¸é€šçŸ¥**
   ä¸Šä¼ /ç”Ÿæˆè¿›å…¥åå°ï¼šä½¿ç”¨ `BackgroundTasks` + æœ¬åœ°é€šçŸ¥ã€Œè®²è§£å·²å‡†å¤‡å°±ç»ªï¼Œç‚¹æ­¤æ’­æ”¾ã€

## ä¸»è¦é¡µé¢äº¤äº’è¦ç‚¹

* **ç›¸æœºé¡µ**ï¼šå¿«é—¨ç‚¹å‡»æ‹ç…§ï¼›å³ç¼˜æ»‘åŠ¨ 16â€“24pt è§¦å‘æŠ½å±‰ï¼›å¼±ç½‘æ—¶é¡¶éƒ¨é»„æ¡â€œå°†ä»¥æ–‡å­—å›é€€â€
* **æ’­æ”¾é¡µ**ï¼šå€é€Ÿ 0.8/1.0/1.25/1.5ï¼›**å›é€€ 15s**ã€**ä¸‹ä¸€å¥**ï¼›ã€ŒğŸ‘/ğŸ‘/é‡æ–°ç”Ÿæˆã€åœ¨æ§åˆ¶åŒºæ—
* **åœ°å›¾é¡µ**ï¼šåº•éƒ¨åŠå±å¡ç‰‡ï¼ˆå¯ä¸Šæ‹‰å…¨å±ï¼‰ï¼Œæ¨ªå‘æ»‘å¡ç‰‡åˆ‡æ¢é™„è¿‘ç‚¹ï¼›å¡ç‰‡å†…ç›´æ¥ã€Œæ’­æ”¾ã€
* **å†å²é¡µ**ï¼šæŒ‰åœ°ç‚¹/æ—¶é—´/æ˜¯å¦ç¦»çº¿ç­›é€‰ï¼›å³ä¸Šâ€œç®¡ç†â€â†’æ‰¹é‡åˆ é™¤ç¼“å­˜
* **ç™»å½•**ï¼šé¦–æ¬¡å¯è·³è¿‡ï¼›è®¾ç½®ä¸­å¯éšæ—¶ç»‘å®š

## è®¾è®¡ç³»ç»Ÿï¼ˆDesign Tokensï¼‰

* ä¸»è‰² `#0A84FF`ï¼ˆiOS è“ï¼‰ï¼›è¾…è‰² `#34C759`ï¼›è­¦ç¤º `#FF3B30`
* åœ†è§’ï¼š12 / 16 / 24ï¼›é˜´å½±ï¼šiOS åŸç”Ÿ + æ¯›ç»ç’ƒ
* å­—ä½“ï¼šSF Proï¼ˆTitle Semiboldã€Body Regularï¼‰ï¼›æ”¯æŒ Dynamic Type
* å›¾æ ‡ï¼šSF Symbolsï¼ˆæ’­æ”¾ã€æš‚åœã€ä¸‹è½½ã€å®šä½ã€ç›¸å†Œã€é€Ÿåº¦ã€è¿”å› 15sï¼‰

## iOS æŠ€æœ¯é€‰å‹ä¸ç»“æ„

* **æ¡†æ¶**ï¼šSwiftUI + Combine / Swift Concurrency (async/await)
* **ç›¸æœº**ï¼šAVFoundationï¼ˆè‡ªå®šä¹‰ `UIViewRepresentable` é¢„è§ˆå±‚ï¼‰
* **å®šä½/åœ°å›¾**ï¼šCoreLocation + MapKit
* **éŸ³é¢‘**ï¼š`AVPlayer`ï¼ˆæ”¯æŒ HLS/åˆ†æ®µæµï¼‰ï¼Œæ³¢å½¢å¯åç»­åŠ 
* **ç½‘ç»œ**ï¼š`URLSession` + `URLSessionStreamTask` æˆ– HTTP/2 SSEï¼›å¼±ç½‘é‡è¯•ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
* **åå°**ï¼š`BGProcessingTaskRequest` / `BGAppRefreshTaskRequest`
* **ç¼“å­˜**ï¼šéŸ³é¢‘/å›¾ç‰‡è½åœ° `FileManager` + ç´¢å¼• DBï¼ˆå¯ç”¨ `SQLite.swift` æˆ– Core Dataï¼‰
* **ç™»å½•**ï¼šAuthenticationServicesï¼ˆSign in with Appleï¼‰ï¼ŒWeChat SDKï¼ˆé€šè¿‡ URL Schemeï¼‰
* **åŸ‹ç‚¹**ï¼šApple `MetricKit` + è‡ªå»ºäº‹ä»¶ä¸ŠæŠ¥ï¼ˆè§ä¸‹è¡¨ï¼‰

### ç›®å½•ä¸ MVVM ç»„ç»‡ï¼ˆå»ºè®®ï¼‰
TBD

## å®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¥å£ï¼ˆå¯¹é½ï¼‰
TBD

> è¯´æ˜ï¼šå¦‚æœé‡‡ç”¨ SSE/æµå¼ï¼Œå®¢æˆ·ç«¯ä¼˜å…ˆèµ°å•è¿æ¥ç›‘å¬ä»»åŠ¡çŠ¶æ€ï¼›å¦åˆ™è½®è¯¢ 500msâ€“1sï¼Œå¼‚å¸¸é€€é¿ã€‚

## ç¼“å­˜ä¸ç½‘ç»œç­–ç•¥

* å›¾ç‰‡ä¸Šä¼ å‰æœ¬åœ°å‹ç¼©ï¼šæœ€é•¿è¾¹ 1280pxï¼ŒJPEG 0.85
* LRU ç¼“å­˜ä¸Šé™ 500MBï¼ˆéŸ³é¢‘ä¼˜å…ˆçº§é«˜äºç¼©ç•¥å›¾ï¼‰
* å¼€å…³ï¼šâ€œä»… Wi-Fi ä¸‹è½½éŸ³é¢‘â€ï¼ˆé»˜è®¤è·Ÿéšç³»ç»Ÿèœ‚çª/æµé‡çŠ¶æ€ï¼‰

## å›é€€ä¸é”™è¯¯

* **åŒ¹é…å¤±è´¥**ï¼šå±•ç¤ºâ€œæ— åŒ¹é…ï¼Œæ­£åœ¨ç”Ÿæˆâ€¦â€ï¼›è‹¥ GPT/TTS å¤±è´¥ â†’ å±•ç¤ºæ–‡å­—è‰ç¨¿ï¼Œå¯ç¨åè¡¥éŸ³é¢‘
* **æƒé™æ‹’ç»**ï¼šç›¸æœº/å®šä½ç©ºæ€é¡µ + å»è®¾ç½®
* **ç™»å½•å¤±è´¥**ï¼šå¯ç¦»çº¿åŒ¿åç»§ç»­ï¼Œä½†æ”¶è—/å†å²åŒæ­¥ä¸å¤šç«¯åŒæ­¥å—é™

## åŸ‹ç‚¹ï¼ˆäº‹ä»¶åå»ºè®®ï¼‰
TBD

* å…³é”® KPIï¼š**é¦–å¸§å¯æ’­æ—¶é•¿**ã€å‘½ä¸­ç‡ã€ç”Ÿæˆå¤±è´¥ç‡ã€ç¦»çº¿å‘½ä¸­ç‡

---

# C. Figma æç¤ºè¯åŒ…

> ç»Ÿä¸€è§„èŒƒï¼šiOS 18 é£æ ¼ï¼›iPhone 15 Pro ç”»æ¿ï¼›SF Proï¼›ä¸»è‰² #0A84FFï¼›åœ†è§’ 16ï¼›æ¯›ç»ç’ƒä¸æŸ”å’Œé˜´å½±ï¼›Auto Layout + çº¦æŸï¼›æ”¯æŒæµ…/æ·±è‰²ï¼›**å¯¼èˆªä¸ºâ€œæ‹ç…§ä¸»å± + å³ä¾§æ»‘å‡ºæŠ½å±‰â€**ã€‚

## 1) ä¸»å±ï¼ˆç›¸æœº + å³ä¾§æŠ½å±‰ï¼‰   
Design an iOS camera home screen for a travel narration app. Elements: full-screen camera preview; centered circular shutter at bottom; gallery thumbnail at bottom-left; aand a chat bubble button (ğŸ’¬) at bottom-right which opens a chat overlay.; a top location pill (country/city/POI with a â€œPrecise/Reducedâ€ toggle on the right); a â€œImport from Photosâ€ button at top-right. Add a right-edge slide-out drawer handle (16px) that reveals three items: Map, Settings (icon + label, large rounded list). After capture, show a segmented progress bar at the top with states (Upload, Match, Generate, TTS). Clean, native feel, 16-radius, glassmorphism, light/dark.

---

Chat overlay
One page in a IOS app: Design a semi-transparent Chat Overlay sitting above the live camera view.
Rounded 24, glassmorphic background.
Header: â€œAI Travel Guide Chatâ€ with a close arrow.
Scrollable conversation area with grouped histories â€” each group shows a small photo thumbnail, location title, and chat bubbles (user: gray, AI: blue).
Bottom input bar: mic ğŸ™ï¸, text field, send â¤.
Supports swipe-down to dismiss. Keep the layout clean, minimal, and native.

## 2) æ’­æ”¾ç»“æœé¡µï¼ˆæµå¼æ’­æ”¾å™¨ï¼‰  

Design an â€œAudio Playbackâ€ screen: cover image at top (captured photo); title with place name, subtitle with city and date; progress bar with timestamps; controls: Play/Pause, Back 15s, Next sentence, Speed (0.8/1.0/1.25/1.5). Top-right â€œDownload for offlineâ€ icon; beside controls, show â€œğŸ‘ Useful / ğŸ‘ Not useful / Regenerateâ€. If audio not ready, show waveform skeleton and â€œPreparing first frameâ€. Card over blurred background, 16-radius.

---

## 3) åœ°å›¾é¡µï¼ˆåº•éƒ¨åŠå±å¡ç‰‡ï¼‰

Design a map screen: full-screen map with user location; a **pull-up bottom sheet** listing nearby narration spots as horizontally scrollable cards (cover, title, **distance**, Play button, popularity/rating). Keep a small round â€œBack to Cameraâ€ button at top-right. Prioritize native look and smooth gestures.

---

## 4) å†å²ä¸ç¦»çº¿åº“

Design a library screen: rows include cover, place name, date, duration, and an offline badge. A top search bar and filters (location/time/offline). A â€œManageâ€ button on top-right for bulk cache deletion. Include an empty state illustration and hint text. Native, card-based style.

---

## 5) é¦–æ¬¡å¯åŠ¨ä¸æƒé™å¼•å¯¼

Design a 3-step onboarding: value proposition â†’ camera permission â†’ location permission. Each step has an illustration and a one-line explanation with the â€œWhile Using the Appâ€ option. If denied, show an empty state with an â€œOpen Settingsâ€ button.

---

## 6) ç™»å½•é¡µï¼ˆApple + WeChatï¼‰

Design a sign-in screen: brand header; two large buttons â€œContinue with Appleâ€ and â€œContinue with WeChatâ€; a secondary â€œContinue as Guestâ€ at the bottom. Include brief privacy text and a consent toggle (default on, for service improvement).

---

## 7) è®¾ç½®é¡µ

Design a settings screen: Language & TTS voice (CN/EN/JP + Voice A/B); Playback preferences (auto play, default speed, auto play on headphones); Network & Cache (Wi-Fi only, 500MB cap, clear cache); Privacy (Improve service toggle, default on); About & Feedback.

---

## 8) é”™è¯¯/å›é€€ä¸é€šçŸ¥

Design error/fallback components: yellow info banner (poor network / text fallback), red error banner (upload/generation failed) with a â€œRetryâ€ button; a local notification preview card (â€œYour narration is ready â€” tap to playâ€).

---

## 9) æŠ½å±‰ï¼ˆå³ä¾§æ»‘å‡ºï¼‰

Design the right slide-out drawer: large rounded list items for â€œMapâ€, â€œLibraryâ€, and â€œSettingsâ€; each with icon + title + short description. Show user sign-in status at the top (avatar with Apple/WeChat badge). At the bottom, display cache usage (progress bar) with a â€œClear Cacheâ€ button.

---

## 10) åˆ†æ®µè¿›åº¦æ¡ï¼ˆä¸Šä¼  â–¸ æ£€ç´¢ â–¸ ç”Ÿæˆ â–¸ è¯­éŸ³ï¼‰

Design a horizontal segmented progress bar with 4 steps and icons/labels (Upload, Match, Generate, TTS). Support states: active (highlighted), done (solid), pending (muted). Provide as a reusable component for both home and playback screens.


